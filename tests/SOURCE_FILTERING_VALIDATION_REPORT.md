# SOURCE FILTERING VALIDATION REPORT

**Test Date:** 2025-11-25T06:26:07.070980

**Backend URL:** https://codequery-4.preview.emergentagent.com/api/chat

**Total Queries Tested:** 20

## Executive Summary

- **Overall Pass Rate:** 0.0%
- **Queries Passed:** 0/20
- **Average Latency:** 0ms

## Validation Criteria Results

### Source Filtering Working: ❌ FAIL
0/20 queries returned expected sources

### Fallback Logic Working: ❌ FAIL
Only 20/20 queries returned 0 citations

### Citations Present (≥80%): ❌ FAIL
0/20 queries have citations

### No 'Unknown' Sources: ✅ PASS
0/20 queries have 'Unknown' sources

### Response Quality: ❌ FAIL
Average response length: 0 chars

## Category Breakdown

### E2/AS1 (0/5 passed - 0.0%)

❌ **Query:** What is the minimum apron flashing cover required for E2/AS1?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What roof pitch is acceptable for direct fix cladding under E2?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are the cavity batten requirements in E2/AS1?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What is the minimum clearance under deck to ground per E2/AS1?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What is the minimum fall for roof membrane in E2?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

### NZS 3604 (0/5 passed - 0.0%)

❌ **Query:** What is the stud spacing for NZS 3604?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are the requirements in NZS 3604 Table 7.1?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What bearer and joist sizing does NZS 3604 require?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What lintel span is permitted in NZS 3604?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What nog spacing is required per NZS 3604?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

### NZ Building Code (0/5 passed - 0.0%)

❌ **Query:** What are H1 insulation R-values for Auckland?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are F4 means of escape requirements?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are G5.3.2 hearth clearance requirements?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are C3 fire stopping requirements?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What are G12 water supply requirements?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

### NZS 4229 (0/5 passed - 0.0%)

❌ **Query:** What are reinforcement requirements in NZS 4229?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What concrete masonry block requirements are in NZS 4229?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What steel mesh sizing does NZS 4229 specify?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What rebar spacing is required per NZS 4229?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

❌ **Query:** What lintel reinforcement does NZS 4229 require?
   - Citations: 0
   - Issues: 0 citations returned (CRITICAL ISSUE)
   - Latency: 0ms
   - Intent: unknown

## Detailed Query Results

| # | Query | Expected Source | Citations | Sources | Pass | Issues |
|---|-------|----------------|-----------|---------|------|--------|
| 1 | What is the minimum apron flashing cover required ... | E2/AS1 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 2 | What roof pitch is acceptable for direct fix cladd... | E2/AS1 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 3 | What are the cavity batten requirements in E2/AS1? | E2/AS1 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 4 | What is the minimum clearance under deck to ground... | E2/AS1 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 5 | What is the minimum fall for roof membrane in E2? | E2/AS1 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 6 | What is the stud spacing for NZS 3604? | NZS 3604 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 7 | What are the requirements in NZS 3604 Table 7.1? | NZS 3604 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 8 | What bearer and joist sizing does NZS 3604 require... | NZS 3604 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 9 | What lintel span is permitted in NZS 3604? | NZS 3604 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 10 | What nog spacing is required per NZS 3604? | NZS 3604 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 11 | What are H1 insulation R-values for Auckland? | NZ Building Code | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 12 | What are F4 means of escape requirements? | NZ Building Code | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 13 | What are G5.3.2 hearth clearance requirements? | NZ Building Code | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 14 | What are C3 fire stopping requirements? | NZ Building Code | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 15 | What are G12 water supply requirements? | NZ Building Code | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 16 | What are reinforcement requirements in NZS 4229? | NZS 4229 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 17 | What concrete masonry block requirements are in NZ... | NZS 4229 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 18 | What steel mesh sizing does NZS 4229 specify? | NZS 4229 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 19 | What rebar spacing is required per NZS 4229? | NZS 4229 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |
| 20 | What lintel reinforcement does NZS 4229 require? | NZS 4229 | 0 |  | ❌ | 0 citations returned (CRITICAL ISSUE) |

## Conclusion

❌ **Source filtering needs significant improvement.** The system is not meeting the expected performance criteria.
