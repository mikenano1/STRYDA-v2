{
  "test_date": "2025-11-25T07:16:43.898198",
  "backend_url": "https://construct-ai-12.preview.emergentagent.com",
  "summary": {
    "total_queries": 30,
    "passed_queries": 10,
    "pass_rate": 33.3,
    "expected_citations": 20,
    "actual_citations": 0,
    "expected_no_citations": 10,
    "actual_no_citations": 10,
    "cosine_success_rate": 0.0,
    "fallback_count": 20,
    "avg_vector_latency_ms": 0.0,
    "avg_total_latency_ms": 9493.2
  },
  "category_stats": {
    "NZS 3604": {
      "passed": 0,
      "total": 5,
      "pass_rate": 0.0,
      "avg_latency": 11114.08,
      "citations_provided": 0
    },
    "E2/AS1": {
      "passed": 0,
      "total": 5,
      "pass_rate": 0.0,
      "avg_latency": 11112.86,
      "citations_provided": 0
    },
    "NZ Building Code": {
      "passed": 0,
      "total": 5,
      "pass_rate": 0.0,
      "avg_latency": 6237.780000000001,
      "citations_provided": 0
    },
    "NZS 4229": {
      "passed": 0,
      "total": 5,
      "pass_rate": 0.0,
      "avg_latency": 13714.439999999999,
      "citations_provided": 0
    },
    "General Builder": {
      "passed": 5,
      "total": 5,
      "pass_rate": 100.0,
      "avg_latency": 8076.159999999999,
      "citations_provided": 0
    },
    "Practical/Tool": {
      "passed": 5,
      "total": 5,
      "pass_rate": 100.0,
      "avg_latency": 6703.639999999999,
      "citations_provided": 0
    }
  },
  "detailed_results": [
    {
      "query": "nzs 3604 stud spacing requirements",
      "category": "NZS 3604",
      "final_answer": "In NZS 3604:2011, the stud spacing requirements for walls are detailed in Section 8. The standard provides guidelines for both loadbearing and non-loa",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 11317.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 3604 rafter span 4.2m",
      "category": "NZS 3604",
      "final_answer": "To determine the appropriate rafter size for a span of 4.2 meters under NZS 3604:2011, you need to refer to the tables provided for different timber g",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 11640.4,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 3604 brace fixing pattern",
      "category": "NZS 3604",
      "final_answer": "When it comes to the bracing fixing pattern according to NZS 3604:2011, it's crucial to ensure that wall bracing is designed and constructed to meet s",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10063.4,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 3604 pile embedment depth",
      "category": "NZS 3604",
      "final_answer": "In NZS 3604:2011, the embedment depth for piles is specified to ensure stability and durability of the structure. Here are the key points regarding pi",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10954.9,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 3604 verandah beam sizing",
      "category": "NZS 3604",
      "final_answer": "To determine the correct sizing for a verandah beam according to NZS 3604:2011, you need to consider several factors including the span of the beam, t",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 11594.5,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "e2as1 minimum apron flashing cover",
      "category": "E2/AS1",
      "final_answer": "According to E2/AS1, the minimum apron flashing cover for metal roofing is specified to ensure effective moisture management. The apron flashing must ",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10626.6,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "e2as1 roof pitch requirements",
      "category": "E2/AS1",
      "final_answer": "In the NZ Building Code, E2/AS1 provides specific requirements for roof pitch to ensure adequate drainage and prevent moisture ingress. The minimum ro",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 11901.3,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "e2as1 cavity batten treatment levels",
      "category": "E2/AS1",
      "final_answer": "In the context of E2/AS1, cavity battens are an essential component for ensuring proper drainage and ventilation in wall cladding systems. The treatme",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10956.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "e2as1 deck to cladding clearance",
      "category": "E2/AS1",
      "final_answer": "When it comes to the clearance between decks and cladding, the NZ Building Code E2/AS1 provides specific guidelines to ensure proper moisture manageme",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 12348.9,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "e2as1 membrane fall requirements",
      "category": "E2/AS1",
      "final_answer": "For membrane roofs and decks, the E2/AS1 provides specific requirements to ensure adequate drainage and prevent water ponding. According to E2/AS1, me",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 9731.3,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "minimum barrier height f4 requirements",
      "category": "NZ Building Code",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5052.8,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "b1 as1 footing depth for standard residential",
      "category": "NZ Building Code",
      "final_answer": "For standard residential buildings, the footing depth requirements are outlined in the B1/AS1 document. The depth of footings is crucial to ensure sta",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10953.1,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "fire stopping between floors c3 rules",
      "category": "NZ Building Code",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5081.9,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "h1 insulation r-values for walls",
      "category": "NZ Building Code",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5058.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "g12 hot water system safe temperatures",
      "category": "NZ Building Code",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5042.9,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 4229 minimum reinforcing for concrete masonry",
      "category": "NZS 4229",
      "final_answer": "For concrete masonry buildings that do not require specific engineering design, NZS 4229:2013 provides the guidelines for minimum reinforcing. The sta",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10731.9,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 4229 lintel reinforcement schedule",
      "category": "NZS 4229",
      "final_answer": "For lintel reinforcement in accordance with NZS 4229:2013, it's important to follow the specific requirements to ensure structural integrity and compl",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 11055.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 4229 grout fill requirements",
      "category": "NZS 4229",
      "final_answer": "For grout fill requirements in concrete masonry construction, NZS 4229:2013 provides specific guidelines to ensure structural integrity and performanc",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 16693.7,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 4229 bond beam spacing rules",
      "category": "NZS 4229",
      "final_answer": "The bond beam spacing rules are typically covered in NZS 4229, which deals with concrete masonry buildings not requiring specific engineering design. ",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 12015.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "nzs 4229 foundation block requirements",
      "category": "NZS 4229",
      "final_answer": "For foundation block requirements as per NZS 4229, you need to ensure that your design and construction adhere to the specific standards for masonry c",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 18076.2,
      "source_filter_applied": true,
      "fallback_triggered": true,
      "pass_fail": "FAIL",
      "reason": "Expected 1-3 citations, got 0"
    },
    {
      "query": "how far can 140x45 joists span",
      "category": "General Builder",
      "final_answer": "{\"answer\": \"When considering the span of 140x45 mm joists, several factors come into play, including the load they need to support and the spacing bet",
      "intent": "general_help",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 9426.1,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "best fixings for exterior pergola",
      "category": "General Builder",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5029.4,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "how to prevent decking cupping",
      "category": "General Builder",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5046.3,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "how much clearance under cladding",
      "category": "General Builder",
      "final_answer": "For cladding clearance, the NZ Building Code requires specific distances to prevent moisture issues. According to E2/AS1, cladding must have adequate ",
      "intent": "compliance_strict",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10318.4,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "what size posts for 3m veranda",
      "category": "General Builder",
      "final_answer": "{\"answer\": \"For a 3m veranda, the size of the posts you use is crucial for ensuring stability and safety. Here\u2019s a practical guide:\\n\\n- **Post Size**",
      "intent": "general_help",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 10560.6,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "whats the best laser level for framing",
      "category": "Practical/Tool",
      "final_answer": "{\"answer\": \"When selecting the best laser level for framing, consider the following factors:\\n\\n- **Type of Laser Level**: Choose between a rotary las",
      "intent": "general_help",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 9140.8,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "how to stop doors sticking in winter",
      "category": "Practical/Tool",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5169.1,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "why is my deck moving when i walk on it",
      "category": "Practical/Tool",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5065.2,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "what is the best timber for outdoor steps",
      "category": "Practical/Tool",
      "final_answer": "{\"answer\": \"When selecting timber for outdoor steps, durability and resistance to the elements are key factors. Here are some of the best options:\\n\\n",
      "intent": "general_help",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 9105.9,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    },
    {
      "query": "best screws for treated pine",
      "category": "Practical/Tool",
      "final_answer": "Kia ora! I'm here to help with building codes and practical guidance. What's on your mind?",
      "intent": "chitchat",
      "citations_count": 0,
      "citations_sources": [],
      "citations_pages": [],
      "tier1_hit": false,
      "vector_latency_ms": 0,
      "total_latency_ms": 5037.2,
      "source_filter_applied": false,
      "fallback_triggered": false,
      "pass_fail": "PASS",
      "reason": ""
    }
  ]
}